<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    <title>vim学习与配置</title>
    <link rel="stylesheet" href="https://www.qin-juan-ge-zhu.top/common/CSS/pandoc.css">
    <script type="text/javascript" src="https://www.qin-juan-ge-zhu.top/common/script4code.js"></script>
    <script src="https://www.qin-juan-ge-zhu.top/common/js/myhighlight.js"></script>
</head>

<body>
    <div class="pandoc">
        <!-- 我的vim设置 -->
        <p class="title">vim学习与我的配置</p>
        <h1 id="vim-那是个什么-jb-东西">vim? 那是个什么 JB 东西？</h1>
        <p>Enjoy coding 的你，是否时常痛恨鼠标点来点去、方向键远离字母，耽误码字？可曾詈骂手动批量重复处理的痛苦？Debug
            时代码上下反复跳转，令你烦闷否？别人写的编辑器设置种种不便，是否想过有一个自己私人订制的编辑器？如果你有以上苦恼，那么 vim 将是你的绝佳选择。</p>
        <p>vim 是一个文本编辑器，素有“编辑器之神”的美名，同时它也是 Linux 尤其是服务器环境下编辑文件的主要方法。</p>
        <p>vim 的主要特点是分模式编辑：</p>
        <div class="table-div">
            <table>
                <thead>
                    <tr class="header">
                        <th>模式</th>
                        <th>说明</th>
                        <th>功能</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="odd">
                        <td>Normal</td>
                        <td>正常</td>
                        <td>光标移动、阅读文件</td>
                    </tr>
                    <tr class="even">
                        <td>Insert</td>
                        <td>插入</td>
                        <td>在当前光标位置插入内容，编辑文件</td>
                    </tr>
                    <tr class="odd">
                        <td>Visual</td>
                        <td>视觉/选择</td>
                        <td>选中、复制粘贴</td>
                    </tr>
                    <tr class="even">
                        <td>Replace</td>
                        <td>替换</td>
                        <td>替换当前光标下字符</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <p>其关系如下：</p>
        <!-- 楚河汉界 -->
        <div class="md-diagram-panel md-fences-adv-panel" style="text-align: center;"><svg id="mermaidChart0"
                width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                style="max-width: 262.82501220703125px;display: inline;"
                viewBox="-8 -7.999998092651367 262.82501220703125 237.79998779296875" role="graphics-document document"
                aria-roledescription="flowchart-v2">
                <style>
                    #mermaidChart0 {
                        font-family: sans-serif;
                        font-size: 16px;
                        fill: #333;
                    }

                    #mermaidChart0 .error-icon {
                        fill: #552222;
                    }

                    #mermaidChart0 .error-text {
                        fill: #552222;
                        stroke: #552222;
                    }

                    #mermaidChart0 .edge-thickness-normal {
                        stroke-width: 2px;
                    }

                    #mermaidChart0 .edge-thickness-thick {
                        stroke-width: 3.5px;
                    }

                    #mermaidChart0 .edge-pattern-solid {
                        stroke-dasharray: 0;
                    }

                    #mermaidChart0 .edge-pattern-dashed {
                        stroke-dasharray: 3;
                    }

                    #mermaidChart0 .edge-pattern-dotted {
                        stroke-dasharray: 2;
                    }

                    #mermaidChart0 .marker {
                        fill: #333333;
                        stroke: #333333;
                    }

                    #mermaidChart0 .marker.cross {
                        stroke: #333333;
                    }

                    #mermaidChart0 svg {
                        font-family: sans-serif;
                        font-size: 16px;
                    }

                    #mermaidChart0 .label {
                        font-family: sans-serif;
                        color: #333;
                    }

                    #mermaidChart0 .cluster-label text {
                        fill: #333;
                    }

                    #mermaidChart0 .cluster-label span,
                    #mermaidChart0 p {
                        color: #333;
                    }

                    #mermaidChart0 .label text,
                    #mermaidChart0 span,
                    #mermaidChart0 p {
                        fill: #333;
                        color: #333;
                    }

                    #mermaidChart0 .node rect,
                    #mermaidChart0 .node circle,
                    #mermaidChart0 .node ellipse,
                    #mermaidChart0 .node polygon,
                    #mermaidChart0 .node path {
                        fill: #ECECFF;
                        stroke: #9370DB;
                        stroke-width: 1px;
                    }

                    #mermaidChart0 .flowchart-label text {
                        text-anchor: middle;
                    }

                    #mermaidChart0 .node .label {
                        text-align: center;
                    }

                    #mermaidChart0 .node.clickable {
                        cursor: pointer;
                    }

                    #mermaidChart0 .arrowheadPath {
                        fill: #333333;
                    }

                    #mermaidChart0 .edgePath .path {
                        stroke: #333333;
                        stroke-width: 2.0px;
                    }

                    #mermaidChart0 .flowchart-link {
                        stroke: #333333;
                        fill: none;
                    }

                    #mermaidChart0 .edgeLabel {
                        background-color: #e8e8e8;
                        text-align: center;
                    }

                    #mermaidChart0 .edgeLabel rect {
                        opacity: 0.5;
                        background-color: #e8e8e8;
                        fill: #e8e8e8;
                    }

                    #mermaidChart0 .cluster rect {
                        fill: #ffffde;
                        stroke: #aaaa33;
                        stroke-width: 1px;
                    }

                    #mermaidChart0 .cluster text {
                        fill: #333;
                    }

                    #mermaidChart0 .cluster span,
                    #mermaidChart0 p {
                        color: #333;
                    }

                    #mermaidChart0 div.mermaidTooltip {
                        position: absolute;
                        text-align: center;
                        max-width: 200px;
                        padding: 2px;
                        font-family: sans-serif;
                        font-size: 12px;
                        background: hsl(80, 100%, 96.2745098039%);
                        border: 1px solid #aaaa33;
                        border-radius: 2px;
                        pointer-events: none;
                        z-index: 100;
                    }

                    #mermaidChart0 .flowchartTitleText {
                        text-anchor: middle;
                        font-size: 18px;
                        fill: #333;
                    }

                    #mermaidChart0 :root {
                        --mermaid-alt-font-family: sans-serif;
                    }
                </style>
                <g>
                    <marker id="flowchart-pointEnd" class="marker flowchart" viewBox="0 0 12 20" refX="10" refY="5"
                        markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto">
                        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath"
                            style="stroke-width: 1; stroke-dasharray: 1, 0;"></path>
                    </marker>
                    <marker id="flowchart-pointStart" class="marker flowchart" viewBox="0 0 10 10" refX="0" refY="5"
                        markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto">
                        <path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath"
                            style="stroke-width: 1; stroke-dasharray: 1, 0;"></path>
                    </marker>
                    <marker id="flowchart-circleEnd" class="marker flowchart" viewBox="0 0 10 10" refX="11" refY="5"
                        markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto">
                        <circle cx="5" cy="5" r="5" class="arrowMarkerPath"
                            style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle>
                    </marker>
                    <marker id="flowchart-circleStart" class="marker flowchart" viewBox="0 0 10 10" refX="-1" refY="5"
                        markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto">
                        <circle cx="5" cy="5" r="5" class="arrowMarkerPath"
                            style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle>
                    </marker>
                    <marker id="flowchart-crossEnd" class="marker cross flowchart" viewBox="0 0 11 11" refX="12"
                        refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto">
                        <path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath"
                            style="stroke-width: 2; stroke-dasharray: 1, 0;"></path>
                    </marker>
                    <marker id="flowchart-crossStart" class="marker cross flowchart" viewBox="0 0 11 11" refX="-1"
                        refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto">
                        <path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath"
                            style="stroke-width: 2; stroke-dasharray: 1, 0;"></path>
                    </marker>
                    <g class="root">
                        <g class="clusters"></g>
                        <g class="edgePaths">
                            <path
                                d="M48.526970990449726,90.5999984741211L97.36250305175781,10.299999237060547L122.36250305175781,10.299999237060547L147.3625030517578,10.299999237060547L180.28125381469727,15.589745202208903"
                                id="L-N-I-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-N LE-I"
                                style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path>
                            <path
                                d="M71.36480354119537,90.5999984741211L97.36250305175781,75.5999984741211L122.36250305175781,75.5999984741211L147.3625030517578,75.5999984741211L179.36875343322754,93.75519542413791"
                                id="L-N-V-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-N LE-V"
                                style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path>
                            <path
                                d="M58.64019142520192,131.1999969482422L97.36250305175781,166.1999969482422L122.36250305175781,166.1999969482422L147.3625030517578,166.1999969482422L173.806377885162,181.1999969482422"
                                id="L-N-R-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-N LE-R"
                                style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path>
                            <path
                                d="M180.28125381469727,36.92719562072298L147.3625030517578,55.599998474121094L122.36250305175781,55.599998474121094L97.36250305175781,55.599998474121094L58.64019142520192,90.5999984741211"
                                id="L-I-N-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-I LE-N"
                                style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path>
                            <path
                                d="M179.36875343322754,128.04479999822536L147.3625030517578,146.1999969482422L122.36250305175781,146.1999969482422L97.36250305175781,146.1999969482422L71.36480354119537,131.1999969482422"
                                id="L-V-N-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-V LE-N"
                                style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path>
                            <path
                                d="M172.3625030517578,207.48272195515207L147.3625030517578,211.49999618530273L122.36250305175781,211.49999618530273L97.36250305175781,211.49999618530273L48.526970990449726,131.1999969482422"
                                id="L-R-N-0" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-R LE-N"
                                style="fill:none;" marker-end="url(#flowchart-pointEnd)"></path>
                        </g>
                        <g class="edgeLabels">
                            <g class="edgeLabel">
                                <g class="label" transform="translate(0, 0)">
                                    <foreignObject width="0" height="0">
                                        <div xmlns="http://www.w3.org/1999/xhtml"
                                            style="display: inline-block; white-space: nowrap;"><span
                                                class="edgeLabel"></span></div>
                                    </foreignObject>
                                </g>
                            </g>
                            <g class="edgeLabel">
                                <g class="label" transform="translate(0, 0)">
                                    <foreignObject width="0" height="0">
                                        <div xmlns="http://www.w3.org/1999/xhtml"
                                            style="display: inline-block; white-space: nowrap;"><span
                                                class="edgeLabel"></span></div>
                                    </foreignObject>
                                </g>
                            </g>
                            <g class="edgeLabel">
                                <g class="label" transform="translate(0, 0)">
                                    <foreignObject width="0" height="0">
                                        <div xmlns="http://www.w3.org/1999/xhtml"
                                            style="display: inline-block; white-space: nowrap;"><span
                                                class="edgeLabel"></span></div>
                                    </foreignObject>
                                </g>
                            </g>
                            <g class="edgeLabel">
                                <g class="label" transform="translate(0, 0)">
                                    <foreignObject width="0" height="0">
                                        <div xmlns="http://www.w3.org/1999/xhtml"
                                            style="display: inline-block; white-space: nowrap;"><span
                                                class="edgeLabel"></span></div>
                                    </foreignObject>
                                </g>
                            </g>
                            <g class="edgeLabel">
                                <g class="label" transform="translate(0, 0)">
                                    <foreignObject width="0" height="0">
                                        <div xmlns="http://www.w3.org/1999/xhtml"
                                            style="display: inline-block; white-space: nowrap;"><span
                                                class="edgeLabel"></span></div>
                                    </foreignObject>
                                </g>
                            </g>
                            <g class="edgeLabel">
                                <g class="label" transform="translate(0, 0)">
                                    <foreignObject width="0" height="0">
                                        <div xmlns="http://www.w3.org/1999/xhtml"
                                            style="display: inline-block; white-space: nowrap;"><span
                                                class="edgeLabel"></span></div>
                                    </foreignObject>
                                </g>
                            </g>
                        </g>
                        <g class="nodes">
                            <g class="node default default flowchart-label" id="flowchart-N-24"
                                transform="translate(36.181251525878906, 110.89999771118164)">
                                <rect class="basic label-container" style="" rx="5" ry="5" x="-36.18124961853027"
                                    y="-20.300000190734863" width="72.36249923706055" height="40.60000038146973">
                                </rect>
                                <g class="label" style=""
                                    transform="translate(-28.681249618530273, -12.800000190734863)">
                                    <rect></rect>
                                    <foreignObject width="57.36249923706055" height="25.600000381469727">
                                        <div xmlns="http://www.w3.org/1999/xhtml"
                                            style="display: inline-block; white-space: nowrap;"><span
                                                class="nodeLabel">Normal</span></div>
                                    </foreignObject>
                                </g>
                            </g>
                            <g class="node default default flowchart-label" id="flowchart-I-25"
                                transform="translate(209.59375381469727, 20.299999237060547)">
                                <rect class="basic label-container" style="" rx="5" ry="5" x="-29.3125"
                                    y="-20.300000190734863" width="58.625" height="40.60000038146973"></rect>
                                <g class="label" style="" transform="translate(-21.8125, -12.800000190734863)">
                                    <rect></rect>
                                    <foreignObject width="43.625" height="25.600000381469727">
                                        <div xmlns="http://www.w3.org/1999/xhtml"
                                            style="display: inline-block; white-space: nowrap;"><span
                                                class="nodeLabel">Insert</span></div>
                                    </foreignObject>
                                </g>
                            </g>
                            <g class="node default default flowchart-label" id="flowchart-V-27"
                                transform="translate(209.59375381469727, 110.89999771118164)">
                                <rect class="basic label-container" style="" rx="5" ry="5" x="-30.225000381469727"
                                    y="-20.300000190734863" width="60.45000076293945" height="40.60000038146973">
                                </rect>
                                <g class="label" style=""
                                    transform="translate(-22.725000381469727, -12.800000190734863)">
                                    <rect></rect>
                                    <foreignObject width="45.45000076293945" height="25.600000381469727">
                                        <div xmlns="http://www.w3.org/1999/xhtml"
                                            style="display: inline-block; white-space: nowrap;"><span
                                                class="nodeLabel">Visual</span></div>
                                    </foreignObject>
                                </g>
                            </g>
                            <g class="node default default flowchart-label" id="flowchart-R-29"
                                transform="translate(209.59375381469727, 201.49999618530273)">
                                <rect class="basic label-container" style="" rx="5" ry="5" x="-37.23125076293945"
                                    y="-20.300000190734863" width="74.4625015258789" height="40.60000038146973">
                                </rect>
                                <g class="label" style=""
                                    transform="translate(-29.731250762939453, -12.800000190734863)">
                                    <rect></rect>
                                    <foreignObject width="59.462501525878906" height="25.600000381469727">
                                        <div xmlns="http://www.w3.org/1999/xhtml"
                                            style="display: inline-block; white-space: nowrap;"><span
                                                class="nodeLabel">Replace</span></div>
                                    </foreignObject>
                                </g>
                            </g>
                        </g>
                    </g>
                </g>
            </svg></div>
        <!-- 楚河汉界 -->
        <h1 id="我的-vim-学习路线">我的 vim 学习路线</h1>
        <p>不幸的是 Vim 的学习曲线确实相当陡峭，最开始你会觉得非常不适应，但一旦熬过了初始阶段，你会爱上 Vim。以我而言，现在离开了 vim 的模式几乎已经快不会写材料了，前几天交作业要求
            word，我保存文件居然不是<kbd>Ctrl+s</kbd>，而是顺手来了个<kbd>:wq</kbd>。</p>
        <p>我的 vim 学习路线如下：</p>
        <ul>
            <li>环境：虚拟机 Ubuntu22.04 LTS 环境，vim。也可以使用 windows 下的 gvim/neovim 或 gitbash 自带 vim 等。</li>
            <li>首先，阅读和观看 MIT 的<code>Missing Semister</code>中关于 vim 的<a
                    href="https://missing.csail.mit.edu/2020/editors/">课程</a>。<strong>消失的学期其他课程也非常不错。要是我刚上大学就知道有这个学期该多好！</strong>
            </li>
            <li>而后，在网上玩<a href="https://vim-adventures.com/">Vim
                    Adventures</a>，多玩几遍，直到熟悉其所有键位。<del><strong>“家贫，无从致游戏以玩”</strong>，谁要是有这个游戏全版，记得 v 我一份！</del></li>
            <li>同时，在命令行中学<code>vimtutor</code>，这是 vim 自带的基础官方教程，对于基础使用方法介绍非常完整。
                <ul>
                    <li>系统如果是中文则该教程是中文，否则为英文。</li>
                    <li>使用方法为在命令行中输入<kbd>vimtutor</kbd>并回车。学习过程中尽量不要退出，因为教程不会保存本次做过的操作，下次再进来是个新的。</li>
                    <li>第一次学会慢一些，一小时左右，一共 7 章若干节，一节一个技能，每一章有一个总结。</li>
                </ul>
            </li>
            <li>用了 vim，你难道不觉得键盘上的 Esc 放那么远简直是反人类吗？没错，我也这么觉得。于是想到自己做<a
                    href="https://www.qin-juan-ge-zhu.top/code/linux/vim/keymap.html">键盘映射</a>。</li>
        </ul>
        <p>想了解其他信息，可以参考 CSDiy 的<a href="https://csdiy.wiki/%E5%BF%85%E5%AD%A6%E5%B7%A5%E5%85%B7/Vim/">vim
                指南</a>。当然，众所周知，学习工具的核心在于使用，用起来逢山开路遇水搭桥，才最具效率和效果，<em>isn’t it?</em> 现代的我们，大多数情况的代码都有 IDE，但 vim
            的分模式编辑和高度定制化一定会帮我们在 Coding 之路上快马加鞭。在你的各种 IDE 里安装 vim 插件，练起来，享受 All in One 的乐趣吧！</p>
        <h1 id="vim-手动编译安装">vim 手动编译安装</h1>
        <p>vim 在许多 Linux 发行版都有预装，即使没有预装的也都可以下载到安装包进行安装。但是这里边有几个问题：</p>
        <ul>
            <li>很多 vim 版本不支持 python/python2/rust/perl/lua 等语言编写的插件。
                <ul>
                    <li>是否支持某功能，在命令行运行<code>vim --version</code>或在 vim
                        内运行<code>:version</code>命令即可查看，带有<code>+</code>号的表示支持，<code>-</code>号表示不支持。</li>
                    <li>语言后边带有<code>dyn</code>的（如<code>+python3/dyn</code>）表示支持动态链接，否则表示仅静态链接。</li>
                </ul>
            </li>
            <li>不论何种 Linux 发行版，使用的 vim 版本都略微比发行时间旧一些以保证稳定性；但有时追求新功能的话需要最新版，甚至网上找不到你需要的版本的安装包。</li>
        </ul>
        <p>因而，我们有时会需要自己手动编译安装 vim。即以我而言，为了在 vim 上使用 GitHub Copilot 插件，根据插件文档要求，我不得不手动编译 vim。下面是我的编译过程。当前系统为 Ubuntu22.04
            LTS。编译过程中主要参考以下几篇文章，在此一并致谢：</p>
        <ul>
            <li><a href="https://richrose.dev/posts/linux/vim/vim-compile/">Compiling Vim</a></li>
            <li><a href="https://blog.csdn.net/MHSMIE/article/details/112005119">vim 使用原码升级到最新版本</a></li>
            <li><a href="https://zhuanlan.zhihu.com/p/111592292">VIM 学习笔记 编译 Vim 支持 Python3</a></li>
        </ul>
        <h2 id="清理干净">清理干净</h2>
        <p>下载的第一步当然是卸载当前系统具有的 vim 了。除此之外，由于 Python2 过于老旧，我选择不支持 Python2 仅支持 Python3 的 vim，因此也将 Python2 卸载。</p>
        <pre><code class="language-bash">sudo apt autoremove vim rvim gvim vim-runtime
sudo apt autoremove python2*</code></pre>
        <h2 id="做好准备">做好准备</h2>
        <p>为了编译能够支持 python3/rust/perl/lua 等语言的 vim，我们需要安装一些包。</p>
        <pre><code class="language-bash">sudo apt install -y git \
                 libatk1.0-dev \
                 libcairo2-dev \
                 #libgtk2.0-dev \
                 liblua5.1-0-dev \
                 libncurses5-dev \
                 libperl-dev \
                 libx11-dev \
                 libxpm-dev \
                 libxt-dev \
                 lua5.1 \
                 python3-dev \
                 ruby-dev</code></pre>
        <p>由于我的编译在服务器上运行，主要运行环境为命令行，不需要 gtk2 等图形界面的支持，因而将安装 gtk 的那一行注释掉了。在编译带有 gtk2.0 的 vim 时似乎会遇到问题：vim
            源码截至目前版本（v9.0.1854）采用的 gtk 代码中的<code>struct _GTimeVal</code>已经被弃用，gcc
            要求改用<code>struct _GDateTime</code>，因此编译时会报错，而且陷入死循环，编译不会终止，只能<kbd>Ctrl+c</kbd>杀死进程。我尚不知道如何解决。这也是我放弃支持 gtk
            的原因之一。</p>
        <h2 id="下载源码">下载源码</h2>
        <p>vim 源码可以通过其<a href="https://github.com/vim/vim">GitHub 仓库</a>下载，也可以在其<a
                href="https://www.vim.org/download.php">官网</a>下载。我选择了前者。</p>
        <pre><code class="language-bash">git clone https://github.com/vim/vim

# 后续处理过程都在源码目录下的src目录内进行，因而切换过去
cd vim/src
# 如果此前自己编译安装过vim，需要先卸载自己的安装并清理上次的编译文件，否则会持续报错
sudo make uninstall
sudo make distclean</code></pre>
        <h2 id="开干">开干！</h2>
        <h3 id="configure">configure</h3>
        <p>vim
            的编译过程中，需要先运行<code>configure</code>脚本，该脚本会检查当前系统的环境，并以参数形式接收你需要哪些功能。可以通过<code>./configure --help</code>查看所有可选参数及其功能说明。我选择的参数如下：
        </p>
        <pre><code class="language-bash">sudo ./configure\
 --with-features=huge \
 --enable-multibyte \
 --enable-rubyinterp=dynamic \
 --with-ruby-command=/usr/bin/ruby \
 --enable-luainterp\
 --enable-python3interp=dynamic \
 --with-python3-command=/usr/bin/python3.10 \
 --with-python3-config-dir=/usr/lib/python3.10/config-3.10-x86_64-linux-gnu \
 --enable-perlinterp=dynamic \
 --enable-largefile \
 --enable-cscope \
 --with-compiledby=&quot;An Ordinary Communist weunite1848@gmail.com&quot; \
 --enable-fail-if-missing \
 --prefix=/usr</code></pre>
        <p>对以上选择的参数做一简要说明：</p>
        <ul>
            <li><code>--with-features=huge</code>：支持最多的功能</li>
            <li><code>--enable-multibyte</code>：支持多字节字符（比如中文！！！）</li>
            <li><code>--enable-rubyinterp=dynamic</code>：支持 ruby 插件，动态链接</li>
            <li><code>--with-ruby-command=/usr/bin/ruby</code>或<code>--with-python3-command=/usr/bin/python3</code>等，指定
                vim 使用的这些语言解释器的位置</li>
            <li><code>--with-python3-config-dir=/usr/lib/python3.10/config-3.10-x86_64-linux-gnu</code>，指定 python3 的
                config 文件位置。
                <ul>
                    <li>该文件在不同系统上的位置不同，可以通过命令行运行<code>python3-config --configdir</code>查看。</li>
                </ul>
            </li>
            <li><code>--enable-largefile</code>：支持大文件</li>
            <li><code>--enable-cscope</code>：支持 cscope</li>
            <li><code>--with-compiledby</code>：说明编译者。该信息在编译结束之后会在 vim 首页、帮助页面及版本信息中显示，也就是你的名字与此次编译的 vim 版本永远绑定了。</li>
            <li><code>--enable-fail-if-missing</code>：如果缺少某些功能，编译过程会终止，而不是继续编译。强烈推荐加上！否则遇到编译错误还继续编译，只会得到不符合需求的 vim。</li>
            <li><code>--prefix=/usr</code>：指定安装位置。默认为<code>/usr/local</code>，但我选择了<code>/usr</code>。</li>
        </ul>
        <p>除此之外还有一些参数，如<code>--enable-gui=gtk2</code>/<code>--enable-gtk2-check</code>/<code>--enable-fontset</code>等，可以根据自己的需求选择。
        </p>
        <h3 id="编译安装">编译安装</h3>
        <p>编译安装过程简单到无以复加，就几句话的事。</p>
        <pre><code class="language-bash"># 编译
sudo make
# 安装
sudo make install</code></pre>
        <p>安装过程中可能会出现报错，如部分文件（<code>ex</code>/<code>view</code>等）已经存在，删掉该文件再重新运行命令安装便是。</p>
        <p>安装完成后，可以在命令行中运行<code>vim --version</code>查看 vim 的版本信息，确认是否支持你需要的功能。</p>
        <h1 id="我的-vim-配置">我的 vim 配置</h1>
        <p>网上一般的教程都说 vim 的默认配置文件为<code>~/.vimrc</code>。这当然是不错的，但是有一个巨大的问题：家目录是随着用户而不同的，这会导致我们以当前普通用户打开 vim 编辑文件与以 root
            用户使用 vim 的观感完全不一致，就很烦。</p>
        <p>通过查看<kbd>vim –version</kbd>的输出，可以发现，vim 的配置文件有几层，其中“系统 vimrc
            文件”被放置在<code>$VIM/vimrc</code>，而<code>$VIM</code>为<code>/etc/vim</code>。因此，我们可以将 vim
            的配置文件放置在<code>/etc/vim</code>下，这样不论是普通用户还是 root
            用户，都会使用这份文件，保证观感一致。另外，由于该文件位置较远，我选择在<code>~/useful</code>下创建软链接，方便使用。</p>
        <p>除此之外，出于同样的目的（保证当前用户与 root 用户观感一致），建议将插件也指定一个专门的绝对路径。我放在了<code>/home/player/useful/bundle</code>。</p>
        <pre><code class="language-bash"># 创建软链接
# 我习惯把有用的文件放在～/useful下
mkdir useful
cd useful

# 创建软链接
sudo ln -s /etc/vim /home/player/useful/vim

# 插件存放位置
mkdir bundle</code></pre>
        <h2 id="设置">设置</h2>
        <p>下文所有设置的目录均为<code>~/useful/vim</code>，也即<code>/etc/vim</code>。由于内容过多，我在目录下创建了<code>vimrcs</code>文件夹，将不同内容分别以专门文件管理，vimrc
            文件调用这些文件。因此，下边只有<code>vimrc</code>在<code>/etc/vim</code>下；其他文件均在<code>/etc/vim/vimrcs</code>下，以<code>./vimrcs/&lt;文件名&gt;</code>表示。插件放置在<code>~/useful/bundle</code>。
        </p>
        <h3 id="vimrc">./vimrc</h3>
        <pre><code class="hljs language-vim">&quot; Vundle插件管理及插件内容
if filereadable(expand(&quot;/etc/vim/vimrcs/plugs.vim&quot;))
  source /etc/vim/vimrcs/plugs.vim
endif

&quot; 自行设置
if filereadable(expand(&quot;/etc/vim/vimrcs/myset.vim&quot;))
  source /etc/vim/vimrcs/myset.vim
endif

&quot; 符号自动匹配
if filereadable(expand(&quot;/etc/vim/vimrcs/match.vim&quot;))
  source /etc/vim/vimrcs/match.vim
endif

&quot; 不知道是什么
if filereadable(expand(&quot;/etc/vim/vimrcs/fuck.vim&quot;))
  source /etc/vim/vimrcs/fuck.vim
endif

&quot; 自己设的快捷键
if filereadable(expand(&quot;/etc/vim/vimrcs/keybind.vim&quot;))
  source /etc/vim/vimrcs/keybind.vim
endif

&quot; 自动命令
if filereadable(expand(&quot;/etc/vim/vimrcs/autocmd.vim&quot;))
  source /etc/vim/vimrcs/autocmd.vim
endif</code></pre>
        <h3 id="vimrcsplugs.vim">./vimrcs/plugs.vim</h3>
        <pre><code class="hljs language-vim">&quot; Vundle插件管理器配置
set nocompatible               &quot;去除VIM一致性，必须
filetype off                   &quot;必须

&quot;设置包括vundle和初始化相关的运行时路径
set rtp+=/home/player/useful/bundle/Vundle.vim
call vundle#begin(&#39;/home/player/useful/bundle&#39;)

Plugin &#39;VundleVim/Vundle.vim&#39;   &quot;启用vundle管理插件，必须
Plugin &#39;Valloric/YouCompleteMe&#39; &quot;代码补全插件
Plugin &#39;preservim/nerdtree&#39; &quot;文件目录树插件
Plugin &#39;Xuyuanp/nerdtree-git-plugin&#39; &quot;nerdtree git支持
Plugin &#39;skywind3000/vim-terminal-help&#39; &quot;vim-terminal-help插件
Plugin &#39;scrooloose/syntastic&#39; &quot;语法检查插件
Plugin &#39;Lokaltog/powerline&#39;,{&#39;rtp&#39;:&#39;powerline/bindings/vim/&#39;} &quot;状态栏信息插件
Plugin &#39;ianva/vim-youdao-translater&#39; &quot;有道翻译插件
Plugin &#39;github/copilot.vim&#39; &quot;GitHub Copilot插件

&quot;在此增加其他插件，安装的插件需要放在vundle#begin和vundle#end之间
&quot;安装github上的插件格式为 Plugin &#39;用户名/插件仓库名&#39;

 call vundle#end()

filetype plugin indent on     &quot;加载vim自带和插件相应的语法和文件类型相关脚本，必须

&quot; YouCompleteMe
let g:ycm_global_ycm_extra_conf=&#39;/home/player/useful/bundle/YouCompleteMe/.ycm_extra_conf.py&#39;
let g:ycm_key_invoke_completion = &#39;&lt;C-c&gt;&#39;
let g:ycm_semantic_triggers =  {
            \ &#39;c,cpp,python,java,go,erlang,perl&#39;: [&#39;re!\w{2}&#39;],
            \ &#39;cs,lua,javascript&#39;: [&#39;re!\w{2}&#39;],
            \ }
highlight PMenu ctermfg=34 ctermbg=21 guifg=darkred guibg=darkblue
highlight PMenuSel ctermfg=21 ctermbg=34 guifg=darkblue guibg=darkred
let g:ycm_autoclose_preview_window_after_completion=1 &quot;窗口在完成操作后消失
map &lt;leader&gt;g :YcmCompleter GoToDefinitionElseDeclaration&lt;CR&gt;  &quot;找到当前内容定义位置的快捷方式

&quot;NERDTree
autocmd vimenter * NERDTree &quot;进入vim自动打开nerdtree
autocmd bufenter * if(winnr(&quot;$&quot;) == 1 &amp;&amp; exists(&quot;b:NERDTree&quot;) &amp;&amp; b:NERDTree.isTabTree()) | q | endif &quot;当nerdtree为剩余唯一窗口时自动关闭
map &lt;F2&gt; :NERDTreeToggle&lt;CR&gt; &quot;F2键开关文件目录树，注意shift+i切换是否显示隐藏文件
let g:NERDTreeDirArrowExpandable = &#39;+&#39;
let g:NERDTreeDirArrowCollapsible = &#39;-&#39; &quot;修改树的显示图标
&quot;let g:NERDTreeWinPos=&#39;left&#39; &quot;窗口位置
let g:NERDTreeSize=10&quot;窗口尺寸
let g:NERDTreeShowLineNumbers=1 &quot;窗口是否显示行号
&quot;let g:NERDTreeHidden=1 &quot;似乎是隐藏文件的旧命令？没看到作用
let NERDTreeShowHidden=1 &quot; 显示隐藏文件
let NERDTreeIgnore = [&#39;\.pyc$&#39;, &#39;\.swp&#39;, &#39;\.swo&#39;, &#39;\.vscode&#39;, &#39;__pycache__&#39;] &quot; 过滤: 所有指定文件和文件夹不显示
autocmd BufWinEnter * if getcmdwintype() == &#39;&#39; | silent NERDTreeMirror | endif &quot; 在每个标签页打开相同的文件树
let g:NERDtreeNodeDelimiter = &quot;\u00a0&quot;


&quot;nerdtree-git-plugin
let g:NERDTreeGitStatusIndicatorMapCustom = {
                \ &#39;Dirty&#39;     :&#39;Dir&#39;,
                \ &#39;Modified&#39;  :&#39;M&#39;,
                \ &#39;Staged&#39;    :&#39;S&#39;,
                \ &#39;Untracked&#39; :&#39;U&#39;,
                \ &#39;Renamed&#39;   :&#39;R&#39;,
                \ &#39;Unmerged&#39;  :&#39;UM&#39;,
                \ &#39;Deleted&#39;   :&#39;X&#39;,
                \ &#39;Ignored&#39;   :&#39;Ig&#39;,
                \ &#39;Clean&#39;     :&#39;Cl&#39;,
                \ &#39;Unknown&#39;   :&#39;?&#39;,
                \ }
let g:NERDTreeGitStatusShowIgnored = 1 &quot; a heavy feature may cost much more time. default: 0
let g:NERDTreeGitStatusUntrackedFilesMode = &#39;all&#39; &quot; a heavy feature too. default: normal
&quot;let g:NERDTreeGitStatusGitBinPath = &#39;/your/file/path&#39; &quot; default: git (auto find in path)

&quot;vim-terminal-help
set termwinsize=10*106

&quot;syntastic
&quot;以下内容是syntastic插件的一般配置，由于YouCompleteMe插件对该插件支持过于优秀，一般不再需要配置，故废弃
&quot;set statusline+=%#warningmsg#
&quot;set statusline+=%{syntasticstatuslineflag()}
&quot;set statusline+=%*
&quot;
&quot;let g:syntastic_always_populate_loc_list = 1
&quot;let g:syntastic_auto_loc_list = 1
&quot;let g:syntastic_check_on_open = 1
&quot;let g:syntastic_check_on_wq = 0
&quot;&quot;设置error和warning的标志
&quot;let g:syntastic_enable_signs = 1
&quot;&quot;let g:syntastic_error_symbol=&#39;?&#39;
&quot;let g:syntastic_warning_symbol=&#39;?&#39;
&quot;&quot;no-unused-args 忽略不使用的参数
&quot;&quot;no-redefined 忽略重定义
&quot;&quot;no-max-line-length 忽略每行最长的检测
&quot;&quot;ignore 542 551 忽略if条件的body为空(如...elseif ret == nil then end，then和end中间没有语句)；忽略空语句(如;)，如果用了;则成对出现该语法检测warning
&quot;&quot;有语法错误的一行左侧栏会有s&amp;gt;标识，光标移动到改行，vim下发会给出提示。修改正确后保存，则该&#39;s&amp;gt;&#39;会消失。
&quot;let g:syntastic_lua_checkers = [&quot;/usr/bin/luac5.3.5&quot;, &quot;luacheck&quot;]
&quot;let g:syntastic_lua_luacheck_args = &quot;--codes --no-max-comment-line-length --ignore 542 551&quot;
&quot;
&quot;&quot;c
&quot;&quot;let g:syntastic_c_compiler =[&#39;gcc&#39;, &#39;clang&#39;, &#39;make&#39;]
&quot;&quot;let g:syntastic_c_compiler_options =&#39;-wpedantic -g&#39;
&quot;let g:syntastic_c_compiler_options =&#39;-std=gnu99&#39;
&quot;let g:syntastic_c_include_dirs=[&#39;/usr/include/&#39;]
&quot;let g:syntastic_c_config_file=&#39;.syntastic_c_config_file&#39;
&quot;
&quot;&quot;cpp
&quot;let g:syntastic_cpp_include_dirs = [&#39;/usr/include/&#39;]
&quot;let g:syntastic_cpp_remove_include_errors = 1
&quot;let g:syntastic_cpp_check_header = 1
&quot;let g:syntastic_cpp_compiler = &#39;clang++&#39;
&quot;let g:syntastic_cpp_compiler_options = &#39;-std=c++11 -stdlib=libstdc++&#39;
&quot;&quot; syntastic end
let g:syntastic_python_checkers=[&#39;pylint&#39;]
let g:syntastic_python_pylint_args=[&#39;--disable=C0111,R0903,C0301&#39;]


&quot; powerline
let laststatus=2
let g:airlinr_powerline_fonts=1 &quot;使用官方打过补丁的字体
let g:Powerline_symbols=&#39;fancy&#39;

&quot;vim-youdao-translater
vnoremap &lt;silent&gt; &lt;C-t&gt; :&lt;C-u&gt;Ydv&lt;CR&gt;
nnoremap &lt;silent&gt; &lt;C-t&gt; :&lt;C-u&gt;Ydc&lt;CR&gt;
noremap &lt;leader&gt;yd: &lt;C-u&gt;Yde&lt;CR&gt;</code></pre>
        <h3 id="vimrcsmyset.vim">./vimrcs/myset.vim</h3>
        <pre><code class="hljs language-vim">set nocp    &quot;设置兼容
set expandtab   &quot;设置tab
set shiftwidth=4    &quot;设置tab的间隔
set tabstop=4   &quot;四个空格代表一个tab
set sts=4
set showmatch   &quot;在输入括号时光标会短暂地跳到与之相匹配的括号处
set autoindent  &quot;设置自动缩进
&quot; set smartindent &quot;设置智能缩进
set nowrap    &quot;设置自动换行
set tw=500
set lbr
set foldmethod=indent &quot;设置按缩进折叠代码
set foldlevel=99 &quot;折叠层级
nnoremap &lt;space&gt; za &quot;空格代替za进行展开和折叠
&quot;===set guifont=Monospace &quot;设置字体大小
set guifont=:b:h16
set encoding=utf-8  &quot;设置编码为utf-8
set fileencoding=utf-8
set fileencodings=ucs-bom,utf-8,GB18030,cp936,big5,euc-jp,euc-kr,latin1
set helplang=cn &quot;帮助中文支持
&quot;colorscheme evening &quot;设置主体颜色
set mouse=a &quot; 设置鼠标

&quot;自动补全配置
autocmd FileType python set omnifunc=pythoncomplete#Complete
autocmd FileType javascript set omnifunc=javascriptcomplete#CompleteJS
autocmd FileType html set omnifunc=htmlcomplete#CompleteTags
autocmd FileType css set omnifunc=csscomplete#CompleteCSS
autocmd FileType xml set omnifunc=xmlcomplete#CompleteTags
autocmd FileType php set omnifunc=phpcomplete#CompletePHP
autocmd FileType c set omnifunc=ccomplete#Complete

&quot;进行Taglist的设置
map &lt;F3&gt; :TlistToggle&lt;CR&gt;
&quot;map &lt;F3&gt; :silent! Tlist&lt;CR&gt;             &quot;按下F3就可以呼出了
&quot;let Tlist_Ctags_Cmd=&#39;/usr/bin/ctags&#39;    &quot;因为我们放在环境变量里，所以可以直接执行
let Tlist_Use_Right_Window=1            &quot;让窗口显示在右边，0的话就是显示在左边
&quot;let Tlist_Show_One_File=1               &quot;让taglist可以同时展示多个文件的函数列表
&quot;let Tlist_File_Fold_Auto_Close=1        &quot;非当前文件，函数列表折叠隐藏
&quot;let Tlist_Exit_OnlyWindow=1             &quot;当taglist是最后一个分割窗口时，自动推出vim
&quot;let Tlist_Process_File_Always=0         &quot;是否一直处理tags.1:处理;0:不处理
&quot;let Tlist_Inc_Winwidth=0                &quot;不是一直实时更新tags，因为没有必要

set rnu &quot;设置相对行号
set nu &quot;设置绝对行号
&quot; Set cursor shape and color
if &amp;term =~ &quot;xterm&quot;
    &quot; INSERT mode
    let &amp;t_SI = &quot;\&lt;Esc&gt;[6 q&quot; . &quot;\&lt;Esc&gt;]12;blue\x7&quot;
    &quot; REPLACE mode
    let &amp;t_SR = &quot;\&lt;Esc&gt;[3 q&quot; . &quot;\&lt;Esc&gt;]12;black\x7&quot;
    &quot; NORMAL mode
    let &amp;t_EI = &quot;\&lt;Esc&gt;[2 q&quot; . &quot;\&lt;Esc&gt;]12;green\x7&quot;
endif
&quot; 1 -&gt; blinking block  闪烁的方块
&quot; 2 -&gt; solid block  不闪烁的方块
&quot; 3 -&gt; blinking underscore  闪烁的下划线
&quot; 4 -&gt; solid underscore  不闪烁的下划线
&quot; 5 -&gt; blinking vertical bar  闪烁的竖线
&quot; 6 -&gt; solid vertical bar  不闪烁的竖线

syntax on
set cul
set cuc
hi CursorLine cterm=NONE ctermbg=darkred ctermfg=white guibg=darkred guifg=white
&quot;&quot;set lines=35 columns=118
colorscheme zaibatsu &quot;设置颜色主题
set wrap &quot;设置自动折行</code></pre>
        <h3 id="vimrcsmatch.vim">./vimrcs/match.vim</h3>
        <pre><code class="hljs language-vim">&quot;各类符号自动匹配
:inoremap ( ()&lt;ESC&gt;i
:inoremap ) &lt;c-r&gt;=ClosePair(&#39;)&#39;)&lt;CR&gt;
:inoremap { {}&lt;ESC&gt;i
:inoremap } &lt;c-r&gt;=ClosePair(&#39;}&#39;)&lt;CR&gt;
:inoremap [ []&lt;ESC&gt;i
:inoremap ] &lt;c-r&gt;=ClosePair(&#39;]&#39;)&lt;CR&gt;

function ClosePair(char)
    if getline(&#39;.&#39;)[col(&#39;.&#39;) - 1] == a:char
        return &quot;&lt;Right&gt;&quot;
    else
        return a:char
    endif
endfunction</code></pre>
        <h3 id="vimrcsfuck.vim">./vimrcs/fuck.vim</h3>
        <pre><code class="hljs language-vim">&quot; 键盘映射设置区域

&quot; 对应使用函数的配置
set guitablabel=%{ShortTabLabel()}
function ShortTabLabel ()
  let bufnrlist = tabpagebuflist (v:lnum)
  let label = bufname (bufnrlist[tabpagewinnr (v:lnum) -1])
  let filename = fnamemodify (label, &#39;:t&#39;)
  return filename
endfunction

set tabline=%!MyTabLine()
function MyTabLine()
  let s = &#39;&#39;
  for i in range(tabpagenr(&#39;$&#39;))
    &quot; 选择高亮
    if i + 1 == tabpagenr()
      let s .= &#39;%#TabLineSel#&#39;
    else
      let s .= &#39;%#TabLine#&#39;
    endif
    &quot; 设置标签页号 (用于鼠标点击)
    let s .= &#39;%&#39; . (i + 1) . &#39;T&#39;
    &quot; MyTabLabel() 提供完整路径标签 MyShortTabLabel 提供文件名标签
    let s .= &#39; %{MyShortTabLabel(&#39; . (i + 1) . &#39;)} &#39;
  endfor
  &quot; 最后一个标签页之后用 TabLineFill 填充并复位标签页号
  let s .= &#39;%#TabLineFill#%T&#39;
  &quot; 右对齐用于关闭当前标签页的标签
  if tabpagenr(&#39;$&#39;) &gt; 1
    let s .= &#39;%=%#TabLine#%999Xclose&#39;
  endif
  return s
endfunction
&quot; 文件名标签
function MyShortTabLabel(n)
  let buflist = tabpagebuflist(a:n)
  let label = bufname (buflist[tabpagewinnr (a:n) -1])
  let filename = fnamemodify (label, &#39;:t&#39;)
  return filename
endfunction
&quot;完整路径标签
function MyTabLabel(n)
  let buflist = tabpagebuflist(a:n)
  let winnr = tabpagewinnr(a:n)
  return bufname(buflist[winnr - 1])
endfunction
&quot; vim 标签样式
&quot;  TabLineFill  tab pages line, where there are no labels
hi TabLineFill term=none
hi TabLineFill ctermfg=DarkGrey
hi TabLineFill guifg=#777777
&quot;  TabLineSel   tab pages line, active tab page label
hi TabLineSel term=inverse
hi TabLineSel cterm=none ctermfg=yellow ctermbg=Black
hi TabLineSel gui=none guifg=yellow guibg=Black

&quot; Develop editing options
au FileType vim setl expandtab
au FileType vim setl shiftwidth=2
au FileType vim setl tabstop=2

&quot; 显示状态栏(默认值为 1，无法显示状态栏)
set laststatus=2
&quot; Format the statusline
&quot; set statusline= %f %m %r %h %w  CWD: %r%{CurDir()}E5%h   Line: %l/%L:%c

function! CurDir()
    let curdir = substitute(getcwd(), &#39;/Users/amir/&#39;, &quot;~/&quot;, &quot;g&quot;)
    return curdir
endfunction</code></pre>
        <h3 id="vimrcskeybind.vim">./vimrcs/keybind.vim</h3>
        <pre><code class="hljs language-vim">map - dd
map up 20k
map ne 20j
map end G
map ta $
&quot;map &lt;C-l&gt; &lt;C-w-l&gt;
nmap &lt;C-tab&gt; :tabn&lt;CR&gt;
nmap &lt;tab&gt; :tabp&lt;CR&gt;
&quot;nmap &lt;alt-tab&gt; :tabnew&lt;CR&gt;
map &lt;space&gt;= &lt;buffer&gt;&lt;esc&gt;:vertical resize +5&lt;cr&gt;
map &lt;space&gt;- &lt;esc&gt;:vertical resize -5&lt;cr&gt;

nn &lt;M-1&gt; 1gt
nn &lt;M-2&gt; 2gt
nn &lt;M-3&gt; 3gt
nn &lt;M-4&gt; 4gt
nn &lt;M-5&gt; 5gt
nn &lt;M-6&gt; 6gt
nn &lt;M-7&gt; 7gt
nn &lt;M-8&gt; 8gt
nn &lt;M-9&gt; 9gt
nn &lt;M-0&gt; :tablast&lt;CR&gt;

&quot;光标在页面间切换
nnoremap &lt;space&gt;h &lt;C-w&gt;&lt;C-h&gt;
nnoremap &lt;space&gt;j &lt;C-w&gt;&lt;C-j&gt;
nnoremap &lt;space&gt;k &lt;C-w&gt;&lt;C-k&gt;
nnoremap &lt;space&gt;l &lt;C-w&gt;&lt;C-l&gt;

&quot;复制粘贴
&quot;vnoremap &lt;C-y&gt; &quot;+y
&quot;nnoremap &lt;C-p&gt; &quot;+p

&quot; 其他开发配置
&quot; Python
au BufNewFile,BufRead *.py
    \ set tabstop=4 |
    \ set shiftwidth=4 |
    \ set textwidth=79 |
    \ set expandtab |
    \ set autoindent |
    \ set fileformat=unix |</code></pre>
        <h3 id="vimrcsautocmd.vim">./vimrcs/autocmd.vim</h3>
        <pre><code class="hljs language-vim">autocmd BufReadPost,BufWritePre *.html,*.c,*.cpp normal gg=G
autocmd Filetype html,markdown setlocal nowrap
&quot;autocmd Filetype c,cpp map &lt;buffer&gt;&lt;C-p&gt; I//&lt;esc&gt;
autocmd Filetype c,cpp map &lt;buffer&gt;&lt;C-d&gt; 0xx&lt;esc&gt;ta
&quot;autocmd Filetype c,cpp vmap &lt;buffer&gt;&lt;C-p&gt; &lt;C-v&gt;I//&lt;esc&gt;
&quot;autocmd Filetype python map &lt;buffer&gt;&lt;C-p&gt; I# &lt;esc&gt;
autocmd Filetype python map &lt;buffer&gt;&lt;C-d&gt; 0xx&lt;esc&gt;ta
&quot;autocmd Filetype python vmap &lt;buffer&gt;&lt;C-p&gt; &lt;C-v&gt;I# &lt;esc&gt;
&quot;autocmd Filetype c,cpp vmap &lt;buffer&gt;&lt;C-d&gt; &lt;C-v&gt;0xx
&quot;说明：本文件上文所有&lt;Ctrl-p&gt;的设置，原是用来为c,cpp,python文件设置注释的
&quot;但是注释可以通过&lt;Ctrl-v&gt;进入块选模式而后&lt;Ctrl-i&gt;进入插入模式
&quot;在前边输入注释符号，保存，则选中的行均被注释
&quot;甚为方便，因此这许多键一起弃用。</code></pre>
        <p class="time">2023.7.5<br>2023.9.6改</p>
        <script src="https://www.qin-juan-ge-zhu.top/common/js/comment.js"></script>
    </div>
</body>

</html>